<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Master Your Knowledge</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: white;
    text-align: center;
    padding: 30px;
}

textarea {
    width: 80%;
    height: 150px;
    padding: 10px;
    border-radius: 10px;
    border: none;
    font-size: 16px;
}

button {
    padding: 10px 20px;
    margin: 10px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
}

.primary {
    background: #3b82f6;
    color: white;
}

.secondary {
    background: #10b981;
    color: white;
}

.card {
    background: white;
    color: black;
    padding: 20px;
    margin: 20px auto;
    width: 60%;
    border-radius: 15px;
    cursor: pointer;
    font-size: 18px;
}

.hidden {
    display: none;
}
</style>
</head>

<body>

<h1>Master Your Knowledge</h1>

<textarea id="inputText" placeholder="Hier deinen Lernstoff einfÃ¼gen..."></textarea><br>

<button class="primary" onclick="generateCards()">Karteikarten erstellen</button>
<button class="secondary" onclick="startSpeech()">Sprechen</button>
<button onclick="rateKnowledge()">Bewerten</button>

<div id="cardsContainer"></div>

<script>
let cards = [];
let currentIndex = 0;
let showingAnswer = false;

// ðŸ”¹ Karteikarten generieren
function generateCards() {
    const text = document.getElementById("inputText").value;
    const sentences = text.split(".").filter(s => s.trim() !== "");

    cards = sentences.map(sentence => {
        return {
            question: "ErklÃ¤re: " + sentence.trim(),
            answer: sentence.trim()
        };
    });

    currentIndex = 0;
    showCard();
}

// ðŸ”¹ Karte anzeigen
function showCard() {
    if (cards.length === 0) return;

    const container = document.getElementById("cardsContainer");
    container.innerHTML = "";

    const cardDiv = document.createElement("div");
    cardDiv.className = "card";
    cardDiv.innerText = showingAnswer 
        ? cards[currentIndex].answer 
        : cards[currentIndex].question;

    cardDiv.onclick = () => {
        showingAnswer = !showingAnswer;
        showCard();
    };

    container.appendChild(cardDiv);
}

// ðŸ”¹ Sprachaufnahme
function startSpeech() {
    if (!('webkitSpeechRecognition' in window)) {
        alert("Sprachfunktion wird in diesem Browser nicht unterstÃ¼tzt (nutze Chrome).");
        return;
    }

    const recognition = new webkitSpeechRecognition();
    recognition.lang = "de-DE";
    recognition.start();

    recognition.onresult = function(event) {
        const speechResult = event.results[0][0].transcript;
        document.getElementById("inputText").value += " " + speechResult;
    };

    recognition.onerror = function() {
        alert("Sprachaufnahme fehlgeschlagen.");
    };
}

// ðŸ”¹ Einfache Bewertung
function rateKnowledge() {
    if (cards.length === 0) {
        alert("Erstelle erst Karteikarten!");
        return;
    }

    alert("Du hast aktuell " + cards.length + " Karteikarten erstellt ðŸ’ª");
}
</script>

</body>
</html>

